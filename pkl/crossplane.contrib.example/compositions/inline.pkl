amends "@crossplane.contrib/Composition.pkl"

import "../crds/XR.pkl"
import "@crossplane.contrib/Pkl.pkl"

metadata {
  name = "inline-example"
}
spec {
  compositeTypeRef {
    apiVersion = XR.apiVersion
    kind = XR.kind
  }
  mode = "Pipeline"
  pipeline {
    new {
      step = "pkl-template"
      functionRef {
        name = "function-pkl"
      }
      input = new Pkl {
        spec {
          type = "inline"
          inline = read("steps/minimal-no-project.pkl").text
        }
      }
    }
  }
}
