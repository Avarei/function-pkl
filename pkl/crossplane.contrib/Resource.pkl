@ModuleInfo { minPklVersion = "0.25.1" }
module Resource
import "@k8s/K8sResource.pkl"

/// The JSON representation of the resource.
///
///   - Crossplane will set this field in a RunFunctionRequest to the entire
///     observed state of a resource - including its metadata, spec, and status.
///
///   - A Function should set this field in a RunFunctionRequest to communicate
///     the desired state of a composite or composed resource.
///
///   - A Function may only specify the desired status of a composite resource -
///     not its metadata or spec. A Function should not return desired metadata
///     or spec for a composite resource. This will be ignored.
///
///   - A Function may not specify the desired status of a composed resource -
///     only its metadata and spec. A Function should not return desired status
///     for a composed resource. This will be ignored.
resource: K8sResource?

hidden const READY_UNSPECIFIED: Ready = 0
hidden const READY_TRUE: Ready = 1
hidden const READY_FALSE: Ready = 2

typealias Ready = Int(isBetween(0,2))

/// Ready indicates whether the resource should be considered ready.
///
/// * Crossplane will never set this field in a RunFunctionRequest.
///
///   - A Function should set this field to READY_TRUE in a RunFunctionResponse
///     to indicate that a desired composed resource is ready.
///
///   - A Function should not set this field in a RunFunctionResponse to indicate
///     that the desired composite resource is ready. This will be ignored.
ready: Ready? = READY_UNSPECIFIED

/// The resource's connection details.
///
///   - Crossplane will set this field in a RunFunctionRequest to communicate the
///     the observed connection details of a composite or composed resource.
///
///   - A Function should set this field in a RunFunctionResponse to indicate the
///     desired connection details of the composite resource.
///
///   - A Function should not set this field in a RunFunctionResponse to indicate
///     the desired connection details of a composed resource. This will be
///     ignored.
connectionDetails: Mapping<String, String>?

output {
  renderer = (K8sResource.output.renderer as YamlRenderer) {}
}
